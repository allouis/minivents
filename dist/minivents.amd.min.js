define([],function(){return function(n){var t={},e=[];n=n||this,n.on=function(e,r,i){return(t[e]=t[e]||[]).push([r,i]),n},n.off=function(r,i){r||(t={});for(var u=t[r]||e,f=u.length=i?u.length:0;f--;)i==u[f][0]&&u.splice(f,1);return n},n.emit=function(r){for(var i,u=t[r]||e,f=u.length>0?u.slice(0,u.length):u,l=0;i=f[l++];)i[0].apply(i[1],e.slice.call(arguments,1));return n}}});