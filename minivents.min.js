var Events=function(){"use strict";var e={},n=function(n){var c;for(c in e)if(e[c]===n)return!0;return!1},c=function(c){var i,t=function(e,n){return(void 0===i[e]||n)&&(i[e]={callbacks:[],silenced:!1,locked:!1}),i[e]},o=!1,l=!1;return i={},"string"==typeof c?(e[c]={},c=e[c]):c="object"==typeof c?c:this||{},c.on=function(e,n,c){o||i[e]&&i[e].locked||t(e).callbacks.push({f:n,context:c,silenced:!1})},c.off=function(e,n){for(var c=i[e]&&i[e].callbacks||[],t=void 0===n?0:c.length-1;t>=0;t-=1)n===(c[t]&&c[t].f)&&c.splice(t,1)},c.emit=function(e){var n,c,t,o;if(!(l||i[e]&&i[e].silenced))for(n=[].slice.apply(arguments),c=i[e]&&i[e].callbacks||[],t=c.length,o=0,n.shift();t>o;o+=1)c[o].silenced||c[o].f.apply(c[o].context,n)},c.silence=function(e,o){if(!n(c))if(void 0===e)l=!0;else if(void 0===o)t(e).silenced=!0;else if(void 0!==i[e])for(var f=0;f<i[e].callbacks.length;f+=1)i[e].callbacks[f].f===o&&(i[e].callbacks[f].silenced=!0)},c.unsilence=function(e,o){if(!n(c))if(void 0===e)l=!1;else if(void 0===o)t(e).silenced=!1;else if(void 0!==i[e])for(var f=0;f<i[e].callbacks.length;f+=1)i[e].callbacks[f].f===o&&(i[e].callbacks[f].silenced=!1)},c.lock=function(e){n(c)||(void 0===e?o=!0:t(e).locked=!0)},c.unlock=function(e){n(c)||(void 0===e?o=!1:t(e).locked=!1)},c.reset=function(e){n(c)||null!==i&&(void 0===e?i={}:t(e,!0))},c};return c.get=function(n){return e[n]},c}();!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.returnExports=n()}(this,function(){return Events});