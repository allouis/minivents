var Events=function(){"use strict";var n={},e=function(e){var c;for(c in n)if(n[c]===e)return!0;return!1},c=function(c){var i,t=function(n,e){return(void 0===i[n]||e)&&(i[n]={callbacks:[],silenced:!1,locked:!1}),i[n]},o=!1,l=!1;return i={},"string"==typeof c?(n[c]={},c=n[c]):c="object"==typeof c?c:this||{},c.on=function(n,e,c){o||i[n]&&i[n].locked||t(n).callbacks.push({f:e,context:c,silenced:!1})},c.off=function(n,e){for(var c=i[n]&&i[n].callbacks||[],t=void 0===e?0:c.length-1;t>=0;t-=1)e===(c[t]&&c[t].f)&&c.splice(t,1)},c.emit=function(n){var e,c,t,o;if(!(l||i[n]&&i[n].silenced))for(e=[].slice.apply(arguments),c=i[n]&&i[n].callbacks||[],t=c.length,o=0,e.shift();t>o;o+=1)c[o].silenced||c[o].f.apply(c[o].context,e)},c.silence=function(n,o){var f,r,s;if(e(c))return!1;if(void 0===n)return void(l=!0);if(void 0===o)return void(t(n).silenced=!0);if(f=i[n],void 0!==f)for(s=f.callbacks.length,r=0;s>r;r+=1)f.callbacks[r].f===o&&(f.callbacks[r].silenced=!0)},c.unsilence=function(n,o){var f,r,s;if(e(c))return!1;if(void 0===n&&(l=!1),void 0===o&&(t(n).silenced=!1),f=i[n],void 0!==f)for(s=f.callbacks.length,r=0;s>r;r+=1)f.callbacks[r].f===o&&(f.callbacks[r].silenced=!1)},c.lock=function(n){e(c)||(void 0===n?o=!0:t(n).locked=!0)},c.unlock=function(n){e(c)||(void 0===n?o=!1:t(n).locked=!1)},c.reset=function(n){e(c)||null!==i&&(void 0===n?i={}:t(n,!0))},c};return c.get=function(e){return n[e]},c}();!function(n,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():n.returnExports=e()}(this,function(){return Events});